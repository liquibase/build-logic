name: Build and Test Pro Extension

on:
  workflow_call:
    secrets:
      SONAR_TOKEN:
        description: 'SONAR_TOKEN from the caller workflow'
        required: true
      PRO_LICENSE_KEY:
        description: 'PRO_LICENSE_KEY from the caller workflow'
        required: true

env:
  AWS_REGION: us-east-1
  LIQUIBASE_PRO_LICENSE_KEY: ${{ secrets.PRO_LICENSE_KEY }}

jobs:
  build-test:
    uses: liquibase/build-logic/.github/workflows/extension-test.yml@main
    secrets:
      SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
